<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Samsara Counts</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body id="top">
<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="http://samsaranc.github.io" class="image avatar"><img src="images/avatar.jpg" alt="" /></a>
					<h1><strong></a><a href="http://samsaranc.github.io">Samsara Counts</a></strong></br>
					<a href="http://cs.seas.gwu.edu">Computer Science</a> + <a href="http://math.columbian.gwu.edu">Mathematics</a><br/> student and researcher
					attending <a href="http://www.gwu.edu">the George Washington University</a>. Previously at UMD's <a href="http://www.cs.umd.edu/projects/reucaar/">REU CAAR</a>
				    <h3><a href="pubs.html">Publications</a></h3>
					<h3><a href="portfolio.html">Portfolio</a></h3>
                    <h3><a href="cv_index.html">Computer Vision</a></h3>
					<h3><a href="http://undecidabi1ity.tumblr.com/">Academic Blog</a></h3>
				</div>
			</header>

		<!-- Main -->
			<div id="main">
				<section>
							<h1><a href="http://robertpless.com/classes/ComputerVision/project1/description.html">Computer Vision Project 1</a>:  Image Alignment and Color Compositing</h1>
							<p>
							<h3>Goal:</h3>
							Take the digitized Prokudin-Gorskii glass plate images and automatically produce a color image with as few visual artifacts as possible. Extract the three color channel images and align them so that they form a single RGB color image.</p>

							<h3>Baseline (Naive) Implementation:</h3>
							<p>To align the RGB images, I decided to use the Normalized Cross Correlation metric as a baseline, because I noticed that it outperfomed sum of squared differences (SSD) on a small sample of test images.<br>

							My program divides the image into 3 equal parts, aligns the second and the third parts (G and R) to the first (B). 
							For each image, I record the displacement vector that was used to align the parts. 

							<h3>Sample Image Results</h3>
							<table style="width:100%">
							  <tr>
							  	<td><h4>NCC final image</h4><img src= "images/cv-18/p1/c_00106v.jpg" alt="color image"></img></td>
							   <!--  <td><h4>Gradient final image</h4><img src= "images/cv-18/p1/c_00106v.jpg" alt="color image"></img></td> -->
							    <td><h4>G</h4><img src= "images/cv-18/p1/g_00106v.jpg" alt="green image"></img></td> 
							    <td><h4>R</h4><img src= "images/cv-18/p1/r_00106v.jpg" alt="red image"></img></td>
							    <td><h4>B</h4><img src= "images/cv-18/p1/b_00106v.jpg" alt="blue image"></img></td>
							  </tr>
							</table>

							<p>
							However, since exhaustive search becomes expensive if the displacement search range/image resolution are too large, I implemented a second method for the high-res images: a single-scale and multi-scale aligning algorithm that searches over a user-specified window of displacements. <br>
							</p>

							<h3>Image Pyramids</h3>
							<p>

							To handle alignment for larger images, where an exhaustive search of displacements can be pretty slow, we implement a faster search procedure - image pyramids. Given two images, the alignment process recursively resizes the images at multiple scales (by factors of 2) and respectively aligns them from the coarsest scale (smallest image size) to the finest scale. This allows a gradual estimation of the best displacement with a much smaller search window, therefore shrining computation time.<br></p>
							
						 <h3>Image Pyramid Sample Results</h3>
							  <table >
							  <tr> 
							   
							   <td><img src= "images/cv-18/p1/train.jpg" alt="color image"></img></td>
							   <td><img src= "images/cv-18/p1/01047a.jpg" alt="color image"></img></td>
							   <td><img src= "images/cv-18/p1/00882a.jpg" alt="color image"></img></td>

							  </tr>
							</table>
							<!-- <h3>Bells and Whistles: Cropping</h3>
							<p>
							Since the intensity of the brightness in most RGB images varies greatly, I decided to try out a state-of-the-art method to measure image similarity with gradients: <a href = "https://pdollar.github.io/files/papers/DollarPAMI15edges.pdf"> edge detection using structured forests</a>. Capable of multi-scale edge detection, this edge detector features superior run-time complexity while maintaining state-of-the-art edge detector results. After changing the image matching metric to take the SSD over the edge response maps of the glass plate images, alignment accuracy improves. <br></p>


							After alignment, prior to combining the shifted glass plates images into a single color image, we compute the cropping parameters for each individual glass plate image. After generating the color image, we combine these parameters (via tightfit) to crop the final image. Our objective is to filter out as much boundary noise as possible, while keeping as much of the original image as possible.


							Approach: Given a single channel image, we first run edge detection to obtain an edge response map. We then horizontally average the edge response map to obtain a vector whose length is the image's height. We compute a threshold equal to 2 standard deviations above the mean over all values in this vector. We perform a sequential search among the first 8% of values in the vector from right to left, to find the index of the first value encountered to be higher than the threshold. Similarly, a sequential search from left to right is performed over the last 8% of the vector. Conceptually, this gives us an approximate location of the semantic boundary of the image. The indices are then saved as the top and bottom cropping bounds respectively. A similar process is done with the vector generated by vertically averaging the edge response map, to obtain the left and right cropping bounds.
							</p> -->

							<h3>Sample Results</h3>
							<table style="width:100%">
							  <tr>
							  	<td><img src= "images/cv-18/p1/c_00757v.jpg" alt="green image"></img></td>
							    <td><img src= "images/cv-18/p1/coloured.jpg" alt="color image"></img></td>
							 
							</tr>							  
							<tr>
							  	<td><img src= "images/cv-18/p1/c_00889v.jpg" alt="red image"></img></td>
							  	<td><img src= "images/cv-18/p1/c_00911v.jpg" alt="red image"></img></td>
							  

							  </tr>
							  <tr>
							  	<td><img src= "images/cv-18/p1/c_00907v.jpg" alt="blue image"></img></td>
							  	<td><img src= "images/cv-18/p1/c_01031v.jpg" alt="red image"></img></td>

							  </tr>
							  </table>

							 


			    </section>
			</div>
<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<ul class="icons">
						<li><a href="https://github.com/samsaranc" class="icon fa-github"><span class="label">Github</span></a></li>
						<li> <a href="https://limeconnect-csm.symplicity.com/profiles/samsara.counts2">Lime Network</a></li>
						<li><a href="https://www.linkedin.com/in/samsaranc/" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://twitter.com/samsaranc" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="mailto:samsaranc@gmail.com" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
					</ul>
					<ul class="copyright">
						<li>Last updated: September 2017</li>
						<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						<li>Background: <a href="https://www.lansbergen.net/wp/solargraphy/">Jan Koeman Kloetinge</a> </li>
					</ul>

				</div>
			</footer>


		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
